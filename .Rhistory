# set working directory
wd = "C:/Users/eviriyakovithya/Documents/GitHub/Portfolio-Optimization/"
setwd(wd)
getwd()
# read in data
library(readr)
df <- read_csv("C:/Users/eviriyakovithya/Documents/GitHub/Portfolio-Optimization/stock_csv/_combined_csv.csv")
library(tidyverse)
library(dplyr)
library(lubridate)
# aggregate monthly, group by mean
df_month500<- df %>% group_by(month=floor_date(date, "month")) %>% summarise_each(funs(mean))
# sample only 300 columns (due to AMPL student version limitation)
df_month<- df_month500[, sample(ncol(df_month500[3:length(df_month500)]), 300)]
# define function for gain/loss percentages between each month
pct_chg <- function(x){
pct_change <- -(x-lead(x))/x # Gets percent change in profit from preceding year
return(pct_change)
}
# read in data
library(readr)
df <- read_csv("C:/Users/eviriyakovithya/Documents/GitHub/Portfolio-Optimization/Processed_Data/_combined_csv.csv")
library(tidyverse)
library(dplyr)
library(lubridate)
# aggregate monthly, group by mean
df_month500<- df %>% group_by(month=floor_date(date, "month")) %>% summarise_each(funs(mean))
# sample only 300 columns (due to AMPL student version limitation)
df_month<- df_month500[, sample(ncol(df_month500[3:length(df_month500)]), 300)]
# define function for gain/loss percentages between each month
pct_chg <- function(x){
pct_change <- -(x-lead(x))/x # Gets percent change in profit from preceding year
return(pct_change)
}
# # test the function
# x = df_month$ABB[1:10]
# ahead = df_month(x)
# pct_chg(x)
# apply to the dataframe, remove NAs (last row), (RetMat: Return Matrix)
df_pct <- data.frame(lapply(df_month, pct_chg))
RetMat <- na.omit(df_pct)
write.csv(RetMat,'RetMat.csv')
# read in data
library(readr)
df <- read_csv("C:/Users/eviriyakovithya/Documents/GitHub/Portfolio-Optimization/Processed_Data/_combined_csv.csv")
# read in data
library(readr)
df <- read.csv("C:/Users/eviriyakovithya/Documents/GitHub/Portfolio-Optimization/Processed_Data/_combined_csv.csv")
library(tidyverse)
library(dplyr)
library(lubridate)
# aggregate monthly, group by mean
df_month500<- df %>% group_by(month=floor_date(date, "month")) %>% summarise_each(funs(mean))
# sample only 300 columns (due to AMPL student version limitation)
df_month<- df_month500[, sample(ncol(df_month500[3:length(df_month500)]), 300)]
# define function for gain/loss percentages between each month
pct_chg <- function(x){
pct_change <- -(x-lead(x))/x # Gets percent change in profit from preceding year
return(pct_change)
}
# # test the function
# x = df_month$ABB[1:10]
# ahead = df_month(x)
# pct_chg(x)
# apply to the dataframe, remove NAs (last row), (RetMat: Return Matrix)
df_pct <- data.frame(lapply(df_month, pct_chg))
RetMat <- na.omit(df_pct)
library(tidyverse)
library(dplyr)
library(lubridate)
library(readr)
# read in data
library(readr)
df <- read_csv("C:/Users/eviriyakovithya/Documents/GitHub/Portfolio-Optimization/Processed_Data/_combined_csv.csv")
library(readr)
library(readr)
df <- read_csv("C:/Users/eviriyakovithya/Documents/GitHub/Portfolio-Optimization/Processed_Data/_combined_csv.csv")
library(readr)
if (!require("readr")) install.packages("readr");library(readr)
# read in data
if (!require("readr")) install.packages("readr");library(readr)
if (!require("tidyverse")) install.packages("tidyverse");library(tidyverse)
if (!require("lubridate")) install.packages("lubridate");library(lubridate)
# aggregate monthly, group by mean
df_month500<- df %>% group_by(month=floor_date(date, "month")) %>% summarise_each(funs(mean))
# sample only 300 columns (due to AMPL student version limitation)
df_month<- df_month500[, sample(ncol(df_month500[3:length(df_month500)]), 300)]
# aggregate monthly, group by mean
df_month500<- df %>% group_by(month=floor_date(date, "month")) %>% summarise_each(funs(mean))
# sample only 300 columns (due to AMPL student version limitation)
df_month<- df_month500[, sample(ncol(df_month500[3:length(df_month500)]), 300)]
# read in data
if (!require("readr")) install.packages("readr");library(readr)
df <- read_csv("C:/Users/eviriyakovithya/Documents/GitHub/Portfolio-Optimization/Processed_Data/_combined_csv.csv")
# read in data
if (!require("readr")) install.packages("readr");library(readr)
df <- read_csv("C:/Users/eviriyakovithya/Documents/GitHub/Portfolio-Optimization/Processed_Data/_combined_csv.csv")
head(df)
df[1:10,1:10]
# set working directory
wd = "C:/Users/eviriyakovithya/Documents/GitHub/Portfolio-Optimization/"
setwd(wd)
getwd()
# read in data
if (!require("readr")) install.packages("readr");library(readr)
df <- read_csv("C:/Users/eviriyakovithya/Documents/GitHub/Portfolio-Optimization/Processed_Data/_combined_csv.csv")
if (!require("tidyverse")) install.packages("tidyverse");library(tidyverse)
if (!require("dplyr")) install.packages("dplyr");library(dplyr)
if (!require("lubridate")) install.packages("lubridate");library(lubridate)
head(df)
# read in data
if (!require("utf8")) install.packages("utf8");library(utf8)
if (!require("readr")) install.packages("readr");library(readr)
df <- read_csv("C:/Users/eviriyakovithya/Documents/GitHub/Portfolio-Optimization/Processed_Data/_combined_csv.csv")
df <- read_csv("C:/Users/eviriyakovithya/Documents/GitHub/Portfolio-Optimization/Processed_Data/_combined_csv.csv")
